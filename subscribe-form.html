<div class="mt-10 max-w-md mx-auto bg-white shadow-lg rounded-xl p-6">
<h4 class="text-lg font-semibold text-center mb-4 text-gray-700">Subscribe to a Plan</h4>
<input class="w-full mb-3 px-4 py-2 border border-gray-300 rounded-lg text-gray-700" id="nameInput" placeholder="Your Name" required="" type="text"/>
<input class="w-full mb-3 px-4 py-2 border border-gray-300 rounded-lg text-gray-700" id="emailInput" placeholder="Your Email" required="" type="email"/>
<div class="flex items-stretch gap-2 mb-4 relative">
<div class="relative w-[20%] h-11">
<select id="countryCode" class="appearance-none w-full h-full px-2 py-2 border border-gray-300 rounded-lg bg-white [&>option]:text-black text-transparent text-sm focus:ring-2 focus:ring-blue-400">
</select>
<div id="isoLabel" class="absolute inset-0 flex items-center px-3 text-sm text-gray-800 font-semibold pointer-events-none">--</div>
</div>
<div class="flex items-stretch w-[80%] h-11 border border-gray-300 rounded-lg overflow-hidden">
<span id="phonePrefix" class="px-3 bg-gray-100 text-gray-700 text-sm flex items-center h-full border-r whitespace-nowrap">+--</span>
<input class="w-full px-3 py-2 text-gray-700 focus:outline-none" id="phoneInput" placeholder="Phone Number" required="" type="tel"/>
</div>
</div>
<select class="w-full mb-4 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 bg-white focus:ring-2 focus:ring-blue-400" id="planSelect">
<option value="Basic">Basic</option>
<option value="Plus">Plus</option>
<option value="Pro">Pro</option>
</select>
<button class="w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700" onclick="subscribe()">Subscribe</button>
<p class="mt-4 text-green-600 font-semibold" id="formResponse"></p>
</div>
<script>
  const params = new URLSearchParams(window.location.search);

  // Prefill email
  const email = params.get("email");
  if (email) {
    const emailInput = document.getElementById("emailInput");
    if (emailInput) {
      emailInput.value = email;
    }
  }

  // Prefill plan (expects ?plan=Basic / Plus / Pro)
  const plan = params.get("plan");
  if (plan) {
    const planSelect = document.getElementById("planSelect");
    if (planSelect) {
      for (const option of planSelect.options) {
        if (option.value.toLowerCase() === plan.toLowerCase()) {
          planSelect.value = option.value;
          break;
        }
      }
    }
  }
</script>

